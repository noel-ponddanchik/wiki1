<html>
  <head>
    <title>Oakland-bike-ped - Updating GIS datasets for bi-annual SDE update</title>
    <link rel="stylesheet" href="static/style.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
Bi-annually (January and July) we update our GIS data layers (and post a .zip file online at <a class="wiki_link_ext" href="http://www.oaklandbikemaps.info" rel="nofollow">http://www.oaklandbikemaps.info</a>).<br />
<br />
<img src="files/version%20selection.jpg" alt="version selection.jpg" title="version selection.jpg" style="height: 174px; width: 277px;" /> <img src="files/replacing%20old%20joins.jpg" alt="replacing old joins.jpg" title="replacing old joins.jpg" style="height: 248px; width: 179px;" /><br />
<br />
The layers we provide are:<br />
<br />
1. BikewayNetwork (all existing and proposed bikeway segments)<br />
2. BikeParking<br />
3. BikeSignage<br />
<br />
The files are generated from the GISADMIN.BikeParking, GISADMIN.BikeSignage, and GISADMIN.BikewayNetwork shapefiles in the Prodgiso.BikePedEdit.sde &gt; GISADMIN.BikeFacilities, a connection filed at \\oakland\pwa\Transportation\Bike-Ped_Program\GIS, and exported to the task-specific geodatabase at \\oakland\pwa\Transportation\Bike-Ped_Program\GIS\data_share\Current-Geodatabase.<br />
<ol><li>Make sure that all relevant Access databases are correct and current.<ol><li><span style="background-color: #ffffff;">Cut and paste the purpose-made query of each database into an Excel document and save as follows in \\oakland\pwa\Transportation\Bike-Ped_Program\GIS\data_share\Current-Geodatabase\Linked_Tables (over-writing the existing tables): </span><ol><li><span style="background-color: #ffffff;">Bike parking: cut and paste the &quot;qBikeParking_SDE_Fields&quot; query from the parking database and save as OaklandBikeParking_Current.csv.</span></li><li><span style="background-color: #ffffff;">Bike signage: cut and paste the &quot;q1_Signs_SDE_Fields&quot; query from the signage database and save as OaklandBikewaySigns_current.csv.</span></li><li><span style="background-color: #ffffff;">Bikeway network: cut and paste the &quot;qBikewaysCurrentGIS&quot; query from the bikeways database and save as OaklandBikewayNetwork_current.<strong>xls</strong>. Open the NetworkMacro.xls. </span><ol><li><span style="background-color: #ffffff;">In the new .xls, run the Macro. This Macro replaces the numbers listed for Bikeway Class (1, 2, 3, etc.) with descriptive names (bike path, bike lane, bike route).</span><br />
<span style="background-color: #ffffff;"> </span><ol><li><span style="background-color: #ffffff;">To run the macro you should enable the developer tab by going to File &gt; Options &gt; Customize Ribbon and check the Developer box then press OK</span></li><li><span style="background-color: #ffffff;">Then go to the Developer tab and click Macros the click on the Macro &quot;NetwrkMacro.xls!NetworkConversion and click Run.</span></li><li><span style="background-color: #ffffff;">Save the resulting updated bikeway network</span></li></ol></li></ol></li></ol></li></ol></li></ol><br />
These queries show only the database fields that need to be shown in GIS/shared with others and filter the output to show only installed racks and signs.<br />
<br />
<ol><li>Make sure that all the necessary points or lines have been added or deleted from the appropriate shapefiles.<ol><li>Open ArcMap and make sure the <span style="background-color: #ffffff;">layer is pulled from the Oracle server (GISADMIN.BikeFacilities) not the master.</span></li><li><span style="background-color: #ffffff;">Open the BikePedEdit version of the layer by clicking the &quot;List by Source&quot; tab in the table of contents, right clicking the first database, choosing &quot;Change Version&quot;, and clicking on BikePedEdit.</span></li><li>To determine which changes need to be made, run a duplicates check via export to Excel. (See <a class="wiki_link" href="How%20to%20match%20Access%20to%20GIS%2C%20using%20delete%20Duplicates%20in%20Excel">http://oakland-bike-ped.wikispaces.com/How+to+match+Access+to+GIS%2C+using+delete+Duplicates+in+Excel</a>). For parking and signage, only records with the &quot;installed&quot; status need to match.<ol><li>If the racks or signage gis layers are not up to date, see <a class="wiki_link" href="Update%20Bike%20Parking%20and%20Signage%20GIS%20Layers%20After%20Field%20Work.html">http://oakland-bike-ped.wikispaces.com/Update+Bike+Parking+and+Signage+GIS+Layers+After+Field+Work</a> to update.</li><li>Ask Jennifer whether the bikeway network linework is completed. If changes need to be made, see <a href="http://oakland-bike-ped.wikispaces.com/Split+or+add+new+bikeway+segments">http://oakland-bike-ped.wikispaces.com/Split+or+add+new+bikeway+segments</a>.</li></ol></li></ol></li><li>Once the updates are made in GIS so that the data is consistent with Access, right click the layer and click join to join the GIS layer to the tables in the Linked-Tables folder</li><li>Run a model on the shapefile in ArcMap to get the attribute table to autofill columns from the join.<ol><li>Start an editing session. IMPORTANT!: Otherwise you can't undo! Right click the layer, and click ‘Edit Features’ <span style="font-family: Wingdings;">à</span><span style="background-color: #ffffff;"> ‘Start Editing’ to start an editing session for the layer you want to run the model on.</span></li><li><span style="background-color: #ffffff;">Click the Catalog tab on the right of the page.</span></li><li><span style="background-color: #ffffff;"><span style="background-color: #ffffff;">Go to </span><span style="background-color: #ffffff; font-family: Calibri,sans-serif; font-size: 14.6667px;"><a class="wiki_link_ext" href="file://oakland/pwa/Transportation/Bike-Ped_Program/GIS/data_share/Current-Geodatabase" rel="nofollow">\\oakland\pwa\Transportation\Bike-Ped_Program\GIS\data_share\Current-Geodatabase</a></span><span style="background-color: #ffffff;"> then click the toolbox. </span><span style="color: #6a92cf;"> E: Either put your model here or say where it is for bikeway network.</span></span><ol><li><span style="background-color: #ffffff;">For parking, double click the &quot;Update_Bike_Parking_From_Join_Model&quot; to get the shapefile to autofill the attribute table from the joined table and click OK.</span></li><li><span style="background-color: #ffffff;">For signage, double click the &quot;Signage_Model&quot; to get the shapefile to autofill the attribute table from the joined table and click OK.</span></li><li><span style="background-color: #ffffff; color: #558fc4;">E: Write the name of your model.</span></li></ol></li><li><span style="background-color: #ffffff;">The model could take up to an hour to run, but just let it do its thing and go about whatever else you were doing.</span></li><li><span style="background-color: #ffffff;">Once finished, check to make sure the model worked by looking at the attribute table and ensuring fields that came up NULL before now pull from the join.</span></li><li><span style="background-color: #ffffff;">Once satisfied, go to the Editor menu, save your edits, and click 'Stop Editing'.</span></li><li>Right click on the layer, select Data, then export Data into the &quot;BikeFacilities&quot; feature dataset in the data_share folder in \\oakland\pwa\Transportation\Bike-Ped_Program\GIS\data_share\SDE_updates</li></ol></li><li>The BikewayNetwork, BikeParking and BikeSignage layers are almost complete--the last step is to <a class="wiki_link" href="Metadata%20text%20for%20shared%20layers">update the metadata</a>.</li><li>Now all of the data layers are ready.<ol><li>Delete the feature classes from the last update in the data_share folder.</li><li>Retitle the three feature classes (probably with &quot;_MonthYear&quot;)</li></ol></li><li>You're done! Congratulations you updated the GIS data layers.</li></ol>
    </div>
  </body>
</html>